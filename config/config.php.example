<?php

return [
    // override default branding style (templates/CSS) with custom style.
    // NOTE: the styling/branding MUST be installed for this to work!
    // DEFAULT = null
    //'styleName' => 'eduVPN',
    //'styleName' => 'LC',

    // DEFAULT = DbAuthModule
    //'authModule' => 'DbAuthModule',         // PDO (database)
    //'authModule' => 'BasicAuthModule',      // HTTP Basic Auth
    //'authModule' => 'LdapAuthModule',       // LDAP
    //'authModule' => 'ClientCertAuthModule', // TLS Client Cert
    //'authModule' => 'RadiusAuthModule',     // RADIUS
    //'authModule' => 'PhpSamlSpAuthModule',  // SAML (php-saml-sp)
    //'authModule' => 'MellonAuthModule',     // SAML (mod_auth_mellon)
    //'authModule' => 'ShibAuthModule',       // SAML (Shibboleth)

    // Default Session Expiry
    // The session expiry will be used to determine the "Not After" of the
    // issued X.509 certificates and the moment at which to start rejecting
    // the OAuth tokens.
    // DEFAULT = P90D
    //'sessionExpiry' => 'P90D',      // 90 days
    //'sessionExpiry' => 'PT12H',   // 12 hours
    //'sessionExpiry' => 'P1D',     // 1 day

    // Database

    //    // MariaDB/MySQL
    //    'Db' => [
    //        'dbDsn' => 'mysql:host=localhost;port=3307;dbname=vpn',
    //        //'dbDsn' => mysql:unix_socket=/var/lib/mysql/mysql.sock;dbname=vpn',
    //        'dbUser' => 'user',
    //        'dbPass' => 'pass',
    //    ],
    //    // PostgreSQL
    //    'Db' => [
    //        'dbDsn' => 'pgsql:host=localhost;port=5432;dbname=vpn;user=user;password=pass',
    //    ],

    //    // LDAP
    //    'LdapAuthModule' => [
    //        // *** FreeIPA ***
    //        // -H ldap://ipa.tuxed.example
    //        'ldapUri' => 'ldap://ipa.tuxed.example',
    //        // -D "uid=fkooman,cn=users,cn=accounts,dc=tuxed,dc=example"
    //        'bindDnTemplate' => 'uid={{UID}},cn=users,cn=accounts,dc=tuxed,dc=example',
    //        // (if -b is the same -D we do NOT specify baseDn...)
    //        // to normalize the entered user ID, specify the attribute you want to
    //        // use to identify the user in the VPN server
    //        'userIdAttribute' => 'uid',

    //        // *** AD (NetBIOS domain name) ***
    //        // -H ldap://ad.example.org \
    //        'ldapUri' => 'ldap://ad.example.org',
    //        // -D "DOMAIN\fkooman" \
    //        'bindDnTemplate' => 'DOMAIN\{{UID}}',
    //        // -b "dc=example,dc=org" \
    //        'baseDn' => 'dc=example,dc=org',
    //        // "(sAMAccountName=fkooman)"
    //        'userFilterTemplate' => '(sAMAccountName={{UID}})',
    //        // to normalize the entered user ID, specify the attribute you want to
    //        // use to identify the user in the VPN server
    //        'userIdAttribute' => 'sAMAccountName',

    //        // *** AD (userPrincipalName) ***
    //        // -H ldap://ad.example.org \
    //        'ldapUri' => 'ldap://ad.example.org',
    //        // -D "fkooman@example.org" \
    //        'bindDnTemplate' => '{{UID}}',

    //        // when the user does NOT specify the realm, e.g. only "fkooman", this
    //        // option will add "@example.org" to the "User Name" as specified on
    //        // the login page. If and only if there is no "@" in the provided
    //        // "User Name".!
    //        'addRealm' => 'example.org',
    //        // -b "dc=example,dc=org" \
    //        'baseDn' => 'dc=example,dc=org',
    //        // "(userPrincipalName=fkooman@example.org)"
    //        'userFilterTemplate' => '(userPrincipalName={{UID}})',
    //        // to normalize the entered user ID, specify the attribute you want to
    //        // use to identify the user in the VPN server
    //        'userIdAttribute' => 'userPrincipalName',
    //
    //        // *** Search First ***
    //        // -H ldap://server.ipa.test \
    //        'ldapUri' => 'ldap://server.ipa.test',
    //        // -b "cn=users,cn=accounts,dc=ipa,dc=test" \
    //        'baseDn' => 'cn=users,cn=accounts,dc=ipa,dc=test',
    //        // "(uidNumber=572600001)" \
    //        'userFilterTemplate' => '(uidNumber={{UID}})',
    //        // to normalize the entered user ID, specify the attribute you want to
    //        // use to identify the user in the VPN server
    //        'userIdAttribute' => 'uidNumber',
    //        // in vpn-user-portal >= 2.3.8 you can also perform a bind before
    //        // searching as not all LDAP servers allow anonymous bind to search the
    //        // directory. If at all possible, allow anonymous bind on your LDAP
    //        // server from the VPN server. NEVER USE THE LDAP ADMIN ACCOUNT HERE!
    //        //'searchBindDn' => 'cn=Anonymous Search User,dc=example,dc=org',
    //        //'searchBindPass' => 's3r3t',
    //
    //        //'permissionAttributeList' => [],
    //    ],

    //    // RADIUS
    //    'RadiusAuthModule' => [
    //        'serverList' => [
    //            [
    //                'host' => 'radius.example.org',
    //                'secret' => 'testing123',
    //                //'port' => 1812,
    //            ],
    //        ],
    //        //'addRealm' => 'example.org',
    //        //'nasIdentifier' => 'vpn.example.org',
    //'permissionAttribute' => RADIUS_REPLY_MESSAGE,
    //'permissionAttribute' => 16,
    //    ],

    //    // SAML (php-saml-sp)
    //    'PhpSamlSpAuthModule' => [
    //        'userIdAttribute' => 'eduPersonTargetedID',
    //        //'userIdAttribute' => 'eduPersonPrincipalName',

    //        // ** AUTHORIZATION | PERMISSIONS **
    //        //'permissionAttributeList' => [
    //        //      'eduPersonEntitlement',
    //        //      //'eduPersonAffiliation',
    //        //],

    //        // AuthnContext required for *all* users
    //        //'authnContext' => ['urn:oasis:names:tc:SAML:2.0:ac:classes:TimesyncToken'],

    //        // Users with certain permissions obtained through
    //        // "permissionAttributeList" MUST also have ANY of the listed
    //        // AuthnContexts. If they currently don't, a new authentication is
    //        // triggered to obtain it
    //        //'permissionAuthnContext' => [
    //        //    'http://eduvpn.org/role/admin' => ['urn:oasis:names:tc:SAML:2.0:ac:classes:TimesyncToken'],
    //        //],
    //    ],

    //    // SAML (mod_auth_mellon)
    //    'MellonAuthModule' => [
    //        // OID for eduPersonTargetedId
    //        'userIdAttribute' => 'MELLON_urn:oid:1_3_6_1_4_1_5923_1_1_1_10',
    //        // OID for eduPersonPrincipalName
    //        //'userIdAttribute' => 'MELLON_urn:oid:1_3_6_1_4_1_5923_1_1_1_6',

    //        // ** AUTHORIZATION | PERMISSIONS **
    //        // OID for eduPersonEntitlement
    //        //'permissionAttributeList' => ['MELLON_urn:oid:1_3_6_1_4_1_5923_1_1_1_7'],
    //        // OID for eduPersonAffiliation
    //        //'permissionAttributeList' => ['MELLON_urn:oid:1_3_6_1_4_1_5923_1_1_1_1'],
    //    ],

    //    // SAML (Shibboleth)
    //    'ShibAuthModule' => [
    //        'userIdAttribute' => 'persistent-id',
    //        //'userIdAttribute' => 'eppn',

    //        // ** AUTHORIZATION | PERMISSIONS **
    //        //'permissionAttributeList' => ['entitlement'],
    //        //'permissionAttributeList' => ['affiliation'],
    //    ],

    // the permission required to be able to access the "admin" portion of
    // the portal, see "permissionAttributeList" in the authentication
    // configuration sections
    //'adminPermissionList' => ['http://eduvpn.org/role/admin'],

    // list of userIds that have access to the admin
    //    'adminUserIdList' => ['admin'],

    // the default language of the UI
    // DEFAULT: 'en-US'
    //'defaultLanguage' => 'en-US',

    // Hide the user's permissions obtained through the authentication backend
    // on the "Account" page
    // DEFAULT: false
    //'showPermissions' => false,

    // the supported UI languages
    // DEFAULT: ['en-US']
    //'enabledLanguages' => ['en-US', 'ar-MA', 'da-DK', 'de-DE', 'es-LA', 'et-EE', 'fr-FR', 'nb-NO', 'nl-NL', 'pl-PL', 'pt-PT', 'ro-RO', 'uk-UA'],

    //    'Api' => [
    //        // expiry of OAuth access_token
    //        // DEFAULT: PT1H (1 hour)
    //        //'tokenExpiry' => 'PT1H',

    //        // limit the number of active OAuth clients per user
    //        // DEFAULT: 5
    //        //'maxNumberOfAuthorizedClients' => 5,
    //    ],

    //    'Session' => [
    //        // Whether to use memcached for sessions
    //        // DEFAULT: false
    //        'useMemcached' => false,

    //        // list of memcached servers host:port
    //        // DEFAULT: []
    //        'memcachedServerList' => [
    //            'localhost:11211',
    //        ],
    //    ],

    // how/what to log the connect/disconnect events to syslog
    // EVENT_TYPE = {CONNECT,DISCONNECT}
    // DEFAULT: '{{TYPE}} ({{PROFILE_ID}}) [{{IP_FOUR}},{{IP_SIX}}]'
    //'connectionLogFormat' => '{{EVENT_TYPE}} {{USER_ID}} ({{PROFILE_ID}}) [{{IP_FOUR}},{{IP_SIX}}]',
    // also log the client's originating IP
    //'connectionLogFormat' => '{{EVENT_TYPE}} {{USER_ID}} ({{PROFILE_ID}}) [{{ORIGINATING_IP}} => {{IP_FOUR}},{{IP_SIX}}]',

    // Allow disabling manual configuration downloads from the portal.
    // DEFAULT: true
    //    'enableConfigDownload' => true,
    //    'enableConfigDownload' => false,

    // Limit the number of active VPN configurations downloaded through the
    // portal
    // DEFAULT: 5
    //'maxNumberOfActivePortalConfigurations' => 5,

    // DEFAULT: 51820
    // OPTIONAL
    //'wgPort' => 51820,    // listen on UDP/51820 (default WireGuard)
    //'wgPort' => 443,      // listen on UDP/443

    // List of VPN profiles
    'vpnProfiles' => [
        'default-ovpn' => [
            // The VPN protocol
            // REQUIRED
            // ** WireGuard,OpenVPN
            'vpnProto' => 'openvpn',
            //'vpnProto' => 'wireguard',

            // The name of the profile as shown in the user and admin portals
            // REQUIRED
            // ** WireGuard,OpenVPN
            'displayName' => 'Default (OpenVPN)',

            // The IPv4 range of the network that will be assigned to clients
            // REQUIRED
            // ** WireGuard,OpenVPN
            'range' => '10.42.42.0/24',

            // The IPv6 range of the network that will be assigned to clients
            // REQUIRED
            // ** WireGuard,OpenVPN
            'range6' => 'fd42::/64',

            // The hostname the VPN client(s) will connect to
            // REQUIRED
            // ** WireGuard,OpenVPN
            'hostName' => 'vpn.example',

            // Whether or not to route all traffic from the client over the VPN
            // DEFAULT = true
            // ** WireGuard,OpenVPN
            //'defaultGateway' => false,

            // IPv4 and IPv6 routes to push to the client, only used when
            // defaultGateway is false
            // DEFAULT = []
            // ** WireGuard,OpenVPN
            //'routes' => [
            //    '192.168.1.0/24',
            //    'fd01:1:1:1::/64',
            //],

            // XXX think about DNS in default scenario, what about "split tunnel"?
            // IPv4 and IPv6 address of DNS server(s) to push to the client
            // default could be Quad9 when defaultGateway = true (default) and
            // default could be [] when defaultGateway = true, might be confusing?!
            // DEFAULT  = []
            // Quad9 (https://www.quad9.net)
            // ** WireGuard,OpenVPN
            'dns' => ['9.9.9.9', '2620:fe::fe'],

            // The address the OpenVPN processes will listen on
            // DEFAULT = '::'
            // ** OpenVPN
            //'listenIp' => '::',

            // The base URL to connect to the VPN node
            // DEFAULT = 'http://127.0.0.1:41194'
            // ** WireGuard,OpenVPN
            //'nodeUrl' => 'http://127.0.0.1:41194',

            // Block access to local LAN when VPN is active
            // DEFAULT = false
            // ** OpenVPN
            //'blockLan' => false,

            // Whether or not to allow client-to-client traffic
            // DEFAULT = false
            // ** OpenVPN
            //'clientToClient' => false,

            // Whether or not to enable OpenVPN logging
            // DEFAULT = false
            //'enableLog' => false,

            // Whether or not to enable ACLs for controlling who can connect
            // DEFAULT = false
            // ** OpenVPN
            //'enableAcl' => false,

            // The list of permissions to allow access, requires enableAcl to
            // be true
            // DEFAULT  = []
            // ** WireGuard,OpenVPN
            //'aclPermissionList' => [],

            // The protocols and ports the OpenVPN processes should use, MUST
            // be either 1, 2, 4, 8 or 16 proto/port combinations
            // DEFAULT = ['udp/1194', 'tcp/1194']
            // ** OpenVPN
            //'vpnProtoPorts' => [
            //    'udp/1194',
            //    'tcp/1194',
            //],

            // List the protocols and ports exposed to the VPN clients. Useful
            // for OpenVPN port sharing. When empty (or missing), uses list
            // from vpnProtoPorts
            // DEFAULT = []
            // ** OpenVPN
            //'exposedVpnProtoPorts' => [
            //    'udp/1194',
            //    'tcp/443'
            //],

            // DEFAULT = null
            // ** OpenVPN
            //'dnsDomain' => 'example.org',

            // DEFAULT = []
            // ** WireGuard,OpenVPN
            //'dnsDomainSearch' => ['a.example.org', 'b.example.org'],
        ],

        'default-wg' => [
            // The VPN protocol
            // REQUIRED
            // ** WireGuard,OpenVPN
            'vpnProto' => 'wireguard',
            //'vpnProto' => 'openvpn',

            // The name of the profile as shown in the user and admin portals
            // REQUIRED
            // ** WireGuard,OpenVPN
            'displayName' => 'Default (WireGuard)',

            // The IPv4 range of the network that will be assigned to clients
            // REQUIRED
            // ** WireGuard,OpenVPN
            'range' => '10.43.43.0/24',

            // The IPv6 range of the network that will be assigned to clients
            // REQUIRED
            // ** WireGuard,OpenVPN
            'range6' => 'fd43::/64',

            // The hostname the VPN client(s) will connect to
            // REQUIRED
            // ** WireGuard,OpenVPN
            'hostName' => 'vpn.example',

            // Whether or not to route all traffic from the client over the VPN
            // DEFAULT = true
            // ** WireGuard,OpenVPN

            //'defaultGateway' => false,

            // IPv4 and IPv6 routes to push to the client, only used when
            // defaultGateway is false
            // DEFAULT = []
            // ** WireGuard,OpenVPN
            //'routes' => [
            //    '192.168.1.0/24',
            //    'fd01:1:1:1::/64',
            //],

            // XXX think about DNS in default scenario, what about "split tunnel"?
            // IPv4 and IPv6 address of DNS server(s) to push to the client
            // default could be Quad9 when defaultGateway = true (default) and
            // default could be [] when defaultGateway = true, might be confusing?!
            // DEFAULT  = []
            // ** WireGuard,OpenVPN
            // Quad9 (https://www.quad9.net)
            'dns' => ['9.9.9.9', '2620:fe::fe'],

            // The address the OpenVPN processes will listen on
            // DEFAULT = '::'
            // ** OpenVPN
            //'listenIp' => '::',

            // The base URL to connect to the VPN node
            // DEFAULT = 'http://127.0.0.1:41194'
            // ** WireGuard,OpenVPN
            //'nodeUrl' => 'http://127.0.0.1:41194',

            // Block access to local LAN when VPN is active
            // ** OpenVPN
            // DEFAULT = false
            //'blockLan' => false,

            // Whether or not to allow client-to-client traffic
            // ** OpenVPN
            // XXX WG?
            // DEFAULT = false
            //'clientToClient' => false,

            // Whether or not to enable OpenVPN logging
            // XXX WG?
            // DEFAULT = false
            // ** OpenVPN
            //'enableLog' => false,

            // Whether or not to enable ACLs for controlling who can connect
            // DEFAULT = false
            // ** WireGuard,OpenVPN
            //'enableAcl' => false,

            // The list of permissions to allow access, requires enableAcl to
            // be true
            // DEFAULT  = []
            // ** WireGuard,OpenVPN
            //'aclPermissionList' => [],

            // DEFAULT = null
            // ** OpenVPN
            //'dnsDomain' => 'example.org',

            // DEFAULT = []
            // ** WireGuard,OpenVPN
            //'dnsDomainSearch' => ['a.example.org', 'b.example.org'],
        ],
    ],
];
